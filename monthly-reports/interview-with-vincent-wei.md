# 魏永明访谈录：关于 HVML、开源和国产基础软件

- 原创作者：魏永明
- 自媒体标题：（同标题）

__目录__

- [引言](#引言)
- [正文](#正文)
   + [有关 HVML](#有关-hvml)
   + [有关开源](#有关开源)
   + [有关国产基础软件](#有关国产基础软件)
- [原文链接](#原文链接)


## 引言

本文是近期魏永明和一些朋友们，就 HVML、开源以及国产基础软件的一些热点问题的交流和谈话内容整理而来。

## 正文

### 有关 HVML

#### 为什么要设计 HVML？

我搞了二十多年的 GUI 系统（编者注：指 MiniGUI），却越来越难以接受使用 C/C++ 语言来编写带有图形用户界面的应用程序，尤其在自己使用 Web 前端技术做了很多网页之后，我更加发现使用 C/C++ 这类编程语言开发 GUI 的尴尬：宛如用牛刀杀鸡。就算有可视化的界面设计器帮助开发者，其开发效率也很难和 Web 前端相比。

因此，这几年我一直在思考一个问题：能否将 Web 前端技术带到浏览器之外？比如可以让 C/C++ 程序轻松地使用 Web 前端技术来开发 GUI 应用。

为了将 Web 前端技术引入到通用的 GUI 应用开发中，开源社区也做了大量的探索性工作，比如 Electron 项目，就尝试用 Chromium + Node.js 来搞定一切。但这个项目未能流行起来，究其原因，跟 Web 前端技术本身的局限性有关：所有的一切都离不开浏览器，尤其是 JavaScript 编程语言。

为此，我们在开源的浏览器引擎 WebKit 中，尝试引入了一些具有动态能力的标签，可以用来实现循环迭代、分支控制等功能。有了这个基础，我提出了一个大胆设想：何不干脆设计一种全新的标记语言？于是，就有了 HVML。

简单来讲，HVML 尝试用一种新的思路来解决前面的那个问题：

1. 将 Web 前端技术（主要是 DOM、CSS 等）引入到其他编程语言中，而不是用 JavaScript 替代其他编程语言。
1. 采用类似 HTML 的描述式语言来操控 Web 页面中的元素、属性和样式，而非 JavaScript。

在设计 HVML 的过程中，我有意使用了数据驱动的概念，使得 HVML 可以非常方便地和其他编程语言结合在一起。这样，开发者熟悉哪种编程语言，就使用这种编程语言来开发应用的非 GUI 部分，而所有操控 GUI 的功能，交给 HVML 来完成，它们之间，通过模块间流转的数据来驱动。

#### 使用 HVML 最重要的好处是什么？

围绕 HVML 形成的应用运行框架，和传统的 GUI 应用开发思路以及 Web 前端技术都有显著的不同。传统的 GUI 应用开发，设计模式无外乎直接调用 C/C++ 或其他编程语言提供的接口，在一个事件循环中完成创建 UI 元素，响应用户交互命令的工作。而使用 Web 前端技术开发 GUI 时，则必须使用 JavaScript 语言。

但 HVML 提供了一个完全不一样的应用框架。

在完整的基于 HVML 的应用框架中，包含一个独立运行的图形用户界面渲染引擎，开发者通过撰写 HVML 程序来操控渲染引擎，而 HVML 程序在 HVML 解释器中运行，并可以和其他已有的编程语言运行时环境绑定起来，接收由其他编程语言程序生成的数据，并按照 HVML 程序的指令，将其转换为图形用户界面的描述信息或者变更信息。通过这样的设计，我们将所有涉及到图形用户界面的应用程序分开成两个松散的模块：

1. 一个和 GUI 无关的数据处理模块，开发者可以使用任何其熟悉的编程语言和开发工具开发这个模块。比如，涉及到人工智能处理时，开发者选择 Python；在 Python 代码中，除了装载 HVML 程序之外，开发者无需考虑任何和界面渲染及交互相关的东西，比如创建一个按钮或者点击一个菜单后完成某项工作等等，开发者只需要在 Python 代码中准备好渲染界面所需要的数据即可。

1. 一个或者多个使用 HVML 语言编写的程序（HVML 程序），用来完成对用户界面的操控。HVML 程序根据数据处理模块提供的数据生成用户界面的描述信息，并根据用户的交互或者从数据处理模块中获得的计算结果来更新用户界面，或者根据用户的交互驱动数据处理模块完成某些工作。

通过这样的设计，HVML 应用框架将操控 GUI 的代码从原先调用 C、C++、Java、C# 接口的模式中解放了出来，转而使用 HVML 代码来处理。而 HVML 使用类似 HTML 的描述式语言来操控 GUI 元素，通过隐藏大量细节，降低了直接使用低级编程语言操控 GUI 带来的程序复杂度。

HVML 让几乎所有的编程语言，都可以轻松使用 Web 前端技术来开发 GUI 应用。仅这一点，就足以称之为一种全新的革命性技术。

#### HVML 的开发为何未遵循您所谓的“过程开源”原则？

### 有关开源

#### 开源只有好处没有坏处？

开源的好处大家已经谈得很多了，但任何事物都有两面性，开源也不例外。近几年，开源的坏处越来越多地表现了出来：

1. 出现了大量低水平复制其他开源软件设计思想甚至代码的开源软件，质量参差不齐。
1. 某些较为广泛使用的开源软件中，作者或者其他贡献者故意留出一些隐藏很深的缺陷或者漏洞。
1. 许多以宽松许可证发表的开源软件，发布就意味着项目的死亡。
1. 大量使用较多的开源基础软件得不到良好的维护。

前面说过，开源本质上是一种软件的分发方式。如果你开发一个软件的目的是为了赚钱，那开源这个软件的行为，通常应该被定义为一种营销手段——希望通过开源的方式来让潜在用户或客户快速用起来。

但现实的情况是，我们强调开源以及所谓开源社区治理等等高大上的概念这类东西的时候，忘了一项技术或者一个产品，能否得到广泛使用，首先要考虑的是市场是否有这个需求，或者这项技术、这个产品，能否给用户带来切实的好处。

就比如说，前几年物联网很热闹，国内很多大厂纷纷推出了自己的物联网操作系统。但这些物联网操作系统，代码规模不大，技术路线雷同，乏善可陈。但仍然有一些社区或者开发者，乐此不疲地开发新的物联网操作系统，只为借开源和国产操作系统的营销风儿搞个噱头。

#### “所有不以赚钱为目的的开源，都是耍流氓？”

这话是的确是我说的。

### 有关国产基础软件

## 原文链接

<https://store.fmsoft.cn/campaign/denoteoss-lt>

